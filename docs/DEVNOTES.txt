=================
Development notes
=================

This document should not be included in the release distribution, and serves
simply as internal notes and reminders for why certain things are the way they
are.


The literal and quote problem
-----------------------------

20091024 PMA: The reasoning and history here is complicated so it needs to be
written down. Way back in the genesis of rst2beamer, a problem was encountered
with literals. The docutils LateX writer typeset them correctly in a regular
monospace (\ttfamily) font. However in Beamer documents they appeared as an
italic monospace font. This is because (a) docutils expresses literal blocks
as a \quote, and (b) the Beamer document class sets the quote font to be
italic. (See the beamer themes/fonts files.) Way back, I apparently solved
this problem by overriding the LaTeX writers' visit and depart methods for
literals.

Dim memory says that this worked in the days of docutils 0.4, but now
(docutils 0.6), it strips the indenting from literal blocks. The solution is
thus to use the parent literal methods, but to set the quote font to ttfamily
before visiting a literal and reset it after leaving. This appears to work.


Using Pygments to highlight code
--------------------------------

Duplicating the Sphinx ability to use Pygemnts to highlight code is both easy and hard. You have to use the fancyvrb package to get the Verbatim environment that Pygments produces. You also have to include a set of definitions that the LatexFormatter produces in the header. Also, there is weird problem that crops up when you use a Verbatim environment inside a frame. You get odd errors about something not completing or terminating, unless you give a "fragile" qualifier to the frame::

   \begin{frame}[fragile]
   


